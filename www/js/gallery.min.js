(function(){"use strict";function e(e,n,i){function o(e){var o=parseInt(e.ionGalleryRowSize),t=function(){e.ionGalleryRowSize=n.getRowSize(o||i.row_size,e.ionGalleryItems.length),e.actionLabel=i.action_label,e.items=n.buildGallery(e.ionGalleryItems,e.ionGalleryRowSize),e.responsiveGrid=parseInt(1/e.ionGalleryRowSize*100)};t(),function(){e.$watch(function(){return e.ionGalleryItems.length},function(e,n){e!==n&&t()})}()}function t(e,n,o){e.customItemAction=angular.isFunction(e.ionItemAction)&&o.hasOwnProperty("ionItemAction"),e.ionSliderToggle="false"!==o.ionGalleryToggle&&i.toggle}return o.$inject=["$scope"],{restrict:"AE",scope:{ionGalleryItems:"=ionGalleryItems",ionGalleryRowSize:"=?ionGalleryRow",ionItemAction:"&?ionItemAction",ionZoomEvents:"=?ionZoomEvents"},controller:o,link:t,replace:!0,templateUrl:i.template_gallery}}angular.module("ion-gallery",[]).directive("ionGallery",e),e.$inject=["$ionicPlatform","ionGalleryHelper","ionGalleryConfig"]})(),function(){"use strict";function e(){this.config={action_label:"Done",template_gallery:"gallery.html",template_slider:"slider.html",toggle:!0,row_size:3,fixed_row_size:!0,zoom_events:!0},this.$get=function(){return this.config},this.setGalleryConfig=function(e){angular.extend(this.config,this.config,e)}}angular.module("ion-gallery").provider("ionGalleryConfig",e),e.$inject=[]}(),function(){"use strict";function e(e){this.getRowSize=function(n,i){var o;return o=isNaN(n)===!0||n<=0?e.row_size:n>i&&!e.fixed_row_size?i:n},this.buildGallery=function(e,n){for(var i=[],o=-1,t=0,l=0;l<e.length;l++)l%n===0&&(o++,i[o]=[],t=0),e[l].position=l,i[o][t]=e[l],t++;return i}}angular.module("ion-gallery").service("ionGalleryHelper",e),e.$inject=["ionGalleryConfig"]}(),function(){"use strict";function e(){function e(e,n,i){var o=function(e,i){i>0&&(e.naturalHeight>=e.naturalWidth?n.attr("width","100%"):n.attr("height",n.parent()[0].offsetHeight+"px"))};n.bind("load",function(i){var t=this;n.parent()[0].offsetHeight>0&&o(this,n.parent()[0].offsetHeight),e.$watch(function(){return n.parent()[0].offsetHeight},function(e){o(t,e)})})}return{restrict:"A",link:e}}angular.module("ion-gallery").directive("ionImageScale",e),e.$inject=[]}(),function(){"use strict";function e(e){function n(e,n,i){e.$watch(function(){return e.ionGalleryRowSize},function(i,o){i>0&&n.css("height",n[0].offsetWidth*parseInt(e.responsiveGrid)/100+"px")})}return{restrict:"A",link:n}}angular.module("ion-gallery").directive("ionRowHeight",e),e.$inject=["ionGalleryConfig"]}(),function(){"use strict";function e(e,n){function i(i,o,t){var l=!1,r=function(){i.$emit("ZoomStarted")},a=function(e){l=!0,n(function(){l=!1,i.$emit("DoubleTapEvent",{x:e.gesture.touches[0].pageX,y:e.gesture.touches[0].pageY})},200)},c=function(e){l!==!0&&n(function(){l!==!0&&i.$emit("TapEvent")},200)},s=e.on("pinch",r,o),u=e.on("doubletap",function(e){a(e)},o),f=e.on("tap",c,o);i.$on("$destroy",function(){e.off(u,"doubletap",a),e.off(f,"tap",c),e.off(s,"pinch",r)})}return{restrict:"A",link:i}}angular.module("ion-gallery").directive("ionSlideAction",e),e.$inject=["$ionicGesture","$timeout"]}(),function(){"use strict";function e(e,n,i,o,t){function l(e){function t(){a=!1,c()}var l,r,a=(e.ionGalleryRowSize,!1);e.selectedSlide=1,e.hideAll=!1,e.ionZoomEvents=o.setZoomEvents(e.ionZoomEvents),e.openSlider=function(n){e.slides=[],r=n;var i=e.ionGalleryItems.length,o=n-1<0?i-1:n-1,t=n+1>=i?0:n+1;e.slides[0]=e.ionGalleryItems[o],e.slides[1]=e.ionGalleryItems[n],e.slides[2]=e.ionGalleryItems[t],l=1,e.openModal()},e.slideChanged=function(n){if(n!==l){var o,t=e.slides.length-l-n,a=e.ionGalleryItems.length,c=l+">"+n;"0>1"===c||"1>2"===c||"2>0"===c?(r++,r>=a&&(r=0),o=r+1,o>=a&&(o=0)):"0>2"!==c&&"1>0"!==c&&"2>1"!==c||(r--,r<0&&(r=a-1),o=r-1,o<0&&(o=a-1)),e.ionZoomEvents===!0&&i.$getByHandle("slide-"+t).zoomTo(1),e.slides[t]=e.ionGalleryItems[o],l=n}},e.$on("ZoomStarted",function(i){n(function(){a=!0,e.hideAll=!0})}),e.$on("TapEvent",function(e){n(function(){c()})}),e.$on("DoubleTapEvent",function(e,i){n(function(){s(i)})});var c=function(){return a===!0?(e.ionZoomEvents===!0&&i.$getByHandle("slide-"+l).zoomTo(1,!0),void n(function(){t()},300)):void(e.hasOwnProperty("ionSliderToggle")&&e.ionSliderToggle===!1&&e.hideAll===!1||a===!0||(e.hideAll=!e.hideAll))},s=function(n){a===!1?(e.ionZoomEvents===!0&&i.$getByHandle("slide-"+l).zoomTo(3,!0,n.x,n.y),a=!0,e.hideAll=!0):c()}}function r(n,i,o){var l;e.fromTemplateUrl(t.template_slider,{scope:n,animation:"fade-in"}).then(function(e){l=e}),n.openModal=function(){l.show()},n.closeModal=function(){l.hide()},n.$on("$destroy",function(){try{l.remove()}catch(e){console.log(e.message)}})}return l.$inject=["$scope"],{restrict:"A",controller:l,link:r}}angular.module("ion-gallery").directive("ionSlider",e),e.$inject=["$ionicModal","$timeout","$ionicScrollDelegate","ionSliderHelper","ionGalleryConfig"]}(),function(){"use strict";function e(e){this.setZoomEvents=function(n){return n===!1&&(e.zoom_events=!1),e.zoom_events}}angular.module("ion-gallery").service("ionSliderHelper",e),e.$inject=["ionGalleryConfig"]}();