angular.module("fauzie",["ionic","ion-gallery","ngCordova","fauzie.controllers","fauzie.services"]).run(function(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0),window.open=cordova.InAppBrowser.open),window.StatusBar&&StatusBar.styleDefault()}),Parse.initialize("BdMzY3vrrS9UBbiDTLosrtFqK51RgiLW6vWVBMt0","5aUFXETc530I9J0SuEAvK00tzF3PDMatooJIqYbq"),Parse.serverURL="https://parseapi.back4app.com/"}).config(function(e){e.setGalleryConfig({action_label:"",template_gallery:"templates/gallery/view.html",template_slider:"templates/gallery/slider.html",toggle:!0,row_size:2,fixed_row_size:!0})}).config(function(e,t){e.state("app",{abstract:!0,templateUrl:"templates/menu.html",controller:"AppCtrl"}).state("app.home",{url:"/home",views:{menuContent:{templateUrl:"templates/home.html",controller:"HomeCtrl"}}}).state("app.about",{url:"/about",views:{menuContent:{templateUrl:"templates/about.html"}}}).state("app.gallery",{url:"/gallery",views:{menuContent:{templateUrl:"templates/gallery.html",controller:"GalleryCtrl"}}}).state("app.skills",{url:"/skills",views:{menuContent:{templateUrl:"templates/skills.html",controller:"SkillsCtrl"}}}).state("app.services",{url:"/services",views:{menuContent:{templateUrl:"templates/services.html",controller:"ServicesCtrl"}}}).state("app.projects",{url:"/projects",views:{menuContent:{templateUrl:"templates/projects.html",controller:"ProjectsCtrl"}}}).state("app.project",{url:"/project/:projectId",views:{menuContent:{templateUrl:"templates/project.html",controller:"ProjectCtrl"}}}),t.otherwise("/home")}).directive("autoDivider",function(e){var t="";return{link:function(n,r,o){var l=o.autoDividerValue,i=function(e){return e.slice(0,1).toUpperCase()},a=function(){var e=n.$apply(o.autoDividerFunction)||i,a=e(l);if(a!=t){var s=angular.element("<ion-item class='item item-divider'>"+a+"</ion-item>");r[0].parentNode.insertBefore(s[0],r[0])}t=a};e(a,0)}}}).filter("cloudImageURL",function(){return function(e){if(void 0!==e){var t=e.toString();return t.length?"http://res.cloudinary.com/fauzie/image/upload/"+t:""}}}).filter("getDomain",function(){return function(e){if(void 0!==e){var t=e.toString();return t.length?t.replace("http://","").replace("www.","").split(/[\/?#]/)[0]:""}}}),angular.module("fauzie.services",[]).factory("appParse",function(e,t){var n="undefined"==typeof window.device?"Browser":t.getUUID();return{items:[],fetch:function(t,r,o){t=t||null,r=r||null,o=o||"ASC";var l=e.defer(),i=Parse.Object.extend(t),a=new Parse.Query(i),s=n+"/"+t,c=JSON.parse(window.localStorage.getItem(s));return null===t?this.items:(null!==r&&("ASC"==o?a.ascending(r):"DESC"==o&&a.descending(r)),this.items.length>1?l.resolve(this.items):null===c||c.length<2?a.find().then(function(e){this.items=e.reduce(function(e,t){return e[t.id]=t.attributes,e},{}),window.localStorage.setItem(s,JSON.stringify(this.items)),l.resolve(this.items)},function(e){l.reject(e)}):(this.items=c,l.resolve(this.items)),l.promise)},get:function(t,r){if(null===t||null===r)return[];var o=e.defer(),l=Parse.Object.extend(r),i=new Parse.Query(l),a=n+"/"+r,s=JSON.parse(window.localStorage.getItem(a));return null===s||s.length<2?i.get(t).then(function(e){o.resolve(e.attributes)},function(e){o.reject(e)}):s[t]?o.resolve(s[t]):o.reject(),o.promise}}}),angular.module("fauzie.controllers",[]).controller("AppCtrl",function(e,t,n){e.loginData={},t.fromTemplateUrl("templates/login.html",{scope:e}).then(function(t){e.modal=t}),e.closeLogin=function(){e.modal.hide()},e.login=function(){e.modal.show()},e.doLogin=function(){console.log("Doing login",e.loginData),n(function(){e.closeLogin()},1e3)}}).controller("HomeCtrl",function(e,t,n,r){e.about=function(){t.go("app.about"),window.location.reload()},e.logoclass="transparent",e.imgclass="transparent",e.$on("$ionicView.enter",function(){r(function(){n.align("center")},0),r(function(){e.logoclass="animated flipInX"},600),r(function(){e.imgclass="animated zoomIn"},900)})}).controller("GalleryCtrl",function(e,t,n,r){e.items=[];var o=function(e){var t=[];return angular.forEach(e,function(e){t.push({sub:e.Title+" ("+e.Year+")",src:e.Image.url})}),t};n.show().then(function(){r.fetch("Gallery","Year","ASC").then(function(r){n.hide(),t(e.items=o(r),0)})})}).controller("SkillsCtrl",function(e,t,n,r){e.skills=[],n.show().then(function(){r.fetch("Skill","type","DESC").then(function(r){n.hide(),t(e.skills=r,0)})}),e.dividerFunction=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.animateMe=function(e){console.log(e)}}).controller("ServicesCtrl",function(e,t,n,r){e.services=[],n.show().then(function(){r.fetch("Service","order","ASC").then(function(r){n.hide(),t(e.services=r,0)})})}).controller("ProjectsCtrl",function(e,t,n,r){e.projects=[],n.show().then(function(){r.fetch("Project","year","DESC").then(function(r){n.hide(),t(e.projects=r,0)})})}).controller("ProjectCtrl",function(e,t,n,r,o,l){e.data=[],e.id=n.projectId,e.preview=function(){return!(e.data.length>1)&&(""!=e.data.url&&(window.open(e.data.url,"_blank","location=no"),!1))},e.share=function(){if(e.data.length>1)return!1;var t=e.data.name+" is a "+e.data.dat+" project developed by fauzie at "+e.data.year+".";o.share(t,"Project "+e.data.name,null,e.data.url).finally(function(){return!1})},r.show().then(function(){l.get(e.id,"Project").then(function(n){r.hide(),t(e.data=n,0)})})});
//# sourceMappingURL=app.min.js.map
